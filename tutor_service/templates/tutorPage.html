{% extends 'base.html'%}

{% block head %}
Tutor Page
{% endblock %}
<link rel="stylesheet" href="style/tutorPage.css">
var tutorSchedule = new Array();
var dayTest, one, two;

<!--
    Table Row (tr)
    Table Data (td), the content of the table cell
    Table Header (th), text in th elements are bold and centered by default
-->

{% block body %}

<style>
  table, th, td {
    border: 1px solid black;
    border-collapse: collapse;
    align-content: center;
    background-color: white;
  }

  td, th {
    padding: 10px;
  }
  .popup {
    position: relative;
    display: inline-block;
  }

  .popup .popuptext {
    visibility: hidden;
    width: 180px;
    background-color: #555;
    color: #fff;
    text-align: center;
    border-radius: 6px;
    padding: 5px 0;
    position: absolute;
    z-index: 1;
    bottom: 125%;
    left: 50%;
    margin-left: -80px;
  }
  .popup .show {
    visibility: visible;
    /*-webkit-animation: fadeIn 1s;*/
    animation: fadeIn 1s
  }
  /*@-webkit-keyframes fadeIn {*/
  /*  from {opacity: 0;}*/
  /*  to {opacity: 1;}*/
  /*}*/

</style>

<h1>Tutor Schedule</h1>

<div class = "popup" >
  <button type="button" onclick="popUp()">Save Schedule</button>
  <span class="popuptext" id="myPopup">Schedule saved!</span>
</div>

<button onclick="refreshBackground()">Refresh Schedule</button>
<div id = "tableSchedule">

  <table id ="schedule">
    <thead>
    <tr>
      <!--
  <th scope="col" rowspan="2">Start Time</th>
  <th scope="col" rowspan="2">End Time</th>
      -->
      <th></th>
      <th></th>
      {% for day in weekdays %}
      <th  id = "weekday" scope="col" colspan="1">{{ day }}</th>
      {% endfor %}
    </tr>
    </thead>
    <tbody>
    <tr>
      <th scope="col">Start Time</th>
      <th scope="col">End Time</th>

      {% for day in weekdays %}

      <th scope="col">Available</th>

      {% endfor %}
    </tr>
    {% for timeL in times %}

    <tr>
      <td id = start >{{ timeL[0] }}</td>
      <td id = "end" >{{ timeL[1] }}</td>

      {% for x in range(total_cols) %}
          <td id = "data" onclick = "dataClick()"> </td>
      {% endfor %}
    </tr>
    {% endfor %}
    </tbody>

  </table>
</div>

<script>
  function dataClick(){
    changeColor('springgreen');
    getSchedule();
  }

  function changeColor(color) {
    el = event.target //event.srcElement
    if(el.style.backgroundColor != color){
        el.style.backgroundColor = color;
        document.getElementById("schedule")
        // document.getElementById("data").innerText = clicked;
    }
    else
      el.style.backgroundColor = el.parentNode.style.backgroundColor;
  }
  function getSchedule(){
    //window.alert(document.getElementById("schedule").rows[0].cells[2].innerText); //displays first day of week

    if(document.getElementById("schedule").rows[3].columns[3].innerText === "8:00AM"){
      window.alert("found 8");
      //document.getElementById("schedule").rows[i].columns[j].innerHTML;

    }
    var e = document.getElementById("end").innerText;
    var d = document.getElementById("weekday").innerText;


  }

  function refreshBackground() {
    // el = event.target //event.srcElement
    // var s = document.getElementById("tableSchedule");
    s.body.style.backgroundColor= 'blue';
    document.getElementById("tableSchedule").body.style.backgroundColor = 'blue';

  }

  function popUp(){
      var popup = document.getElementById("myPopup");
      popup.classList.toggle("show");

  }
</script>

{% endblock %}